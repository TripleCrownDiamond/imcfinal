import{q as h,W as p,r as j,j as s,Y as f,a as t}from"./app-CU81j7nS.js";import{A as g,m as y}from"./AuthenticatedLayout-dRBKfQCh.js";import{P as n}from"./PrimaryButton-B91Wo0_j.js";import{S as N}from"./SecondaryButton-BoGYldyN.js";import{d as b}from"./index-W5QgHgs8.js";import{n as a}from"./index-CRzonMBn.js";import{F as v,a as D,b as S,c as _}from"./index-SmABpfec.js";import{f as w,a as E}from"./fr-Dz8sqj0j.js";import"./ApplicationLogo-CKQckDiy.js";import"./transition-CyRQxhFf.js";import"./iconBase-KsH1_KL1.js";import"./en-US-DckgOUrT.js";function W({bots:d,userRole:c,subscriptions:l}){const{flash:r}=h().props,{post:o}=p(),i=y.name;j.useEffect(()=>{r!=null&&r.success&&a.success(r.success),r!=null&&r.error&&a.error(r.error)},[r]);const m=()=>{window.confirm("Êtes-vous sûr de vouloir payer les souscripteurs ?")&&o("/calculate-daily-profits",{},{onSuccess:()=>{console.log("Action réussie !")},onError:e=>{console.error("Erreur :",e)}})},x=async e=>{confirm("Êtes-vous sûr de vouloir supprimer ce bot ?")&&b.Inertia.delete(`/bots/${e}`,{onSuccess:()=>{a.success("Bot supprimé avec succès !")},onError:()=>{a.error("Erreur lors de la suppression du bot !")}})};return s.jsxs(g,{header:s.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Bots de Trading"}),children:[s.jsx(f,{title:"Bots de Trading"}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[c==="admin"&&s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end mb-4",children:s.jsx(t,{href:"/bots/create",children:s.jsxs(n,{children:[s.jsx(v,{className:"mr-2"})," Ajouter un bot"]})})}),s.jsx("div",{className:"flex justify-end mb-4",children:s.jsxs(n,{onClick:m,children:[s.jsx(D,{className:"mr-2"}),"Payer les souscripteurs"]})})]}),s.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:s.jsx("div",{className:"p-6 bg-white border-b border-gray-200",children:s.jsx("ul",{children:d.map(e=>{const u=l.includes(e.id);return s.jsxs("li",{className:"border-b border-gray-300 py-4 hover:bg-gray-100 transition duration-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-[#cd8b76]",children:e.name}),s.jsx("p",{className:"text-gray-700",children:e.description}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Durée:"," ",s.jsxs("strong",{children:[e.duration_days," ","jours"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("span",{className:"text-sm text-black",children:["Prix en USD:"," ",s.jsxs("strong",{className:"text-xl font-bold text-[#82b170]",children:["$",e.cost_usd]})," ","USD"]}),s.jsx("span",{children:"|"}),s.jsxs("span",{className:"text-sm text-black",children:["Prix en"," ",i,":"," ",s.jsx("strong",{className:"text-xl font-bold text-[#82b170]",children:e.cost_icoin})," ",i]})]})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[s.jsxs("p",{children:["Dépôt minimum (USD):"," ",s.jsxs("strong",{children:["$"," ",e.minimum_deposit_usd]})]}),s.jsxs("p",{children:["Dépôt minimum (",i,"):"," ",s.jsxs("strong",{children:[e.minimum_deposit_icoin," ",i]})]}),s.jsxs("p",{children:["Profit quotidien:"," ",s.jsxs("strong",{children:[e.daily_profit_percentage,"%"]})]}),s.jsxs("p",{children:["Durée de profit:"," ",s.jsxs("strong",{children:[e.profit_duration_days," ","jours"]})]})]}),new Date-new Date(e.created_at)<365*24*60*60*1e3&&s.jsxs("span",{className:"text-sm text-gray-500",children:["Ajouté"," ",w(new Date(e.created_at),{addSuffix:!0,locale:E})]}),s.jsx("div",{className:"mt-4 flex space-x-4",children:c==="admin"?s.jsxs(s.Fragment,{children:[s.jsxs(t,{href:`/bots/${e.id}/edit`,className:"flex items-center space-x-1",children:[s.jsx(S,{}),s.jsx("span",{children:"Éditer"})]}),s.jsxs("button",{onClick:()=>x(e.id),className:"flex items-center space-x-1 text-red-600",children:[s.jsx(_,{}),s.jsx("span",{children:"Supprimer"})]})]}):s.jsx(s.Fragment,{children:u?s.jsx(t,{href:`/bot/${e.id}/trading`,children:s.jsx(N,{children:"Trading"})}):s.jsx(t,{href:`/checkout/bot/${e.id}`,children:s.jsx(n,{children:"Souscrire à ce bot"})})})})]},e.id)})})})})]})})]})}export{W as default};
