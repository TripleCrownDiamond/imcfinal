import{r as m,j as e,a as x}from"./app-CU81j7nS.js";import{A as u}from"./AuthenticatedLayout-dRBKfQCh.js";import{P as h}from"./PrimaryButton-B91Wo0_j.js";import{S as p}from"./SecondaryButton-BoGYldyN.js";import{G as f}from"./iconBase-KsH1_KL1.js";import"./ApplicationLogo-CKQckDiy.js";import"./transition-CyRQxhFf.js";import"./index-CRzonMBn.js";function g(i){return f({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(i)}function P({course:i,videos:r,files:a}){const[s,n]=m.useState(0),o=()=>{s<r.length-1&&n(s+1)},c=()=>{s>0&&n(s-1)},d=t=>t.includes("youtube.com/watch?v=")?`https://www.youtube.com/embed/${t.split("v=")[1].split("&")[0]}`:t.includes("vimeo.com/")?`https://player.vimeo.com/video/${t.split("/").pop()}`:t.includes("drive.google.com/file/d/")?`https://drive.google.com/uc?export=preview&id=${t.split("/d/")[1].split("/")[0]}`:t;return e.jsx(u,{header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:i.name}),children:e.jsxs("div",{className:"py-4 px-6 mx-auto max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:i.name}),e.jsx(x,{href:"/courses",className:"text-blue-600 underline hover:text-blue-800",children:"Retour à la liste des cours"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),r.length>0?e.jsxs("div",{className:"mt-6",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-800",children:["Vidéo ",s+1," sur ",r.length]}),e.jsx("iframe",{src:d(r[s].link),title:`Vidéo ${s+1}`,className:"w-full h-96 mt-4",allowFullScreen:!0}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsx(p,{onClick:c,disabled:s===0,children:"Précédent"}),e.jsx(h,{onClick:o,disabled:s===r.length-1,children:"Suivant"})]})]}):e.jsx("p",{className:"text-gray-500 mt-6",children:"Aucune vidéo trouvée pour ce cours."}),a.length>0?e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Fichiers disponibles"}),e.jsx("ul",{className:"list-disc list-inside mt-4 space-y-2",children:a.map((t,l)=>e.jsxs("li",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-800",children:t.file_name}),e.jsxs("a",{href:`/storage/${t.file_path}`,download:!0,className:"text-blue-600 flex items-center hover:text-blue-800",children:["Télécharger"," ",e.jsx(g,{className:"ml-2"})]})]},l))})]}):e.jsx("p",{className:"text-gray-500 mt-6",children:"Aucun fichier disponible pour ce cours."})]})})}export{P as default};
