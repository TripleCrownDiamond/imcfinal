import{r as l,j as e,a as p,q as N}from"./app-CU81j7nS.js";import{A as C}from"./ApplicationLogo-CKQckDiy.js";import{z as k}from"./transition-CyRQxhFf.js";import{P as L}from"./PrimaryButton-B91Wo0_j.js";import{S}from"./SecondaryButton-BoGYldyN.js";import{I as D}from"./index-CRzonMBn.js";const v=l.createContext(),u=({children:t})=>{const[n,s]=l.useState(!1),r=()=>{s(i=>!i)};return e.jsx(v.Provider,{value:{open:n,setOpen:s,toggleOpen:r},children:e.jsx("div",{className:"relative",children:t})})},_=({children:t})=>{const{open:n,setOpen:s,toggleOpen:r}=l.useContext(v);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:r,children:t}),n&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>s(!1)})]})},A=({align:t="right",width:n="48",contentClasses:s="py-1 bg-white",children:r})=>{const{open:i,setOpen:m}=l.useContext(v);let o="origin-top";t==="left"?o="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(o="ltr:origin-top-right rtl:origin-top-left end-0");let c="";return n==="48"&&(c="w-48"),e.jsx(e.Fragment,{children:e.jsx(k,{show:i,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${o} ${c}`,onClick:()=>m(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+s,children:r})})})})},F=({className:t="",children:n,...s})=>e.jsx(p,{...s,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+t,children:n});u.Trigger=_;u.Content=A;u.Link=F;function M({active:t=!1,className:n="",children:s,...r}){return e.jsx(p,{...r,className:"inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium leading-5 transition duration-150 ease-in-out focus:outline-none "+(t?"border-indigo-400 text-gray-900 focus:border-indigo-700":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 focus:border-gray-300 focus:text-gray-700")+n,children:s})}function b({active:t=!1,className:n="",children:s,...r}){return e.jsx(p,{...r,className:`flex w-full items-start border-l-4 py-2 pe-4 ps-3 ${t?"border-indigo-400 bg-indigo-50 text-indigo-700 focus:border-indigo-700 focus:bg-indigo-100 focus:text-indigo-800":"border-transparent text-gray-600 hover:border-gray-300 hover:bg-gray-50 hover:text-gray-800 focus:border-gray-300 focus:bg-gray-50 focus:text-gray-800"} text-base font-medium transition duration-150 ease-in-out focus:outline-none ${n}`,children:s})}const h={id:0,name:"I-Coin",code:"I-Coin",value_in_i_coin:1},T=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1",$={url:T?"http://127.0.0.1:8000":"https://auth.imarket-consulting.com"},R=()=>{const[t,n]=l.useState([]),[s,r]=l.useState(null),[i,m]=l.useState(""),[o,c]=l.useState(null),[j,g]=l.useState(!1);l.useEffect(()=>{(async()=>{g(!0);try{const d=await fetch("/currencies");if(!d.ok)throw new Error("Échec du chargement des devises");const x=await d.json();n([h,...x]),r(h)}catch(d){console.error(d.message)}finally{g(!1)}})()},[h]);const w=async()=>{if(!(!s||!i)){g(!0);try{await new Promise(f=>setTimeout(f,1e3));const a=s.value_in_i_coin,d=t.find(f=>f.code==="USD"),x=s.id===0&&d?i/d.value_in_i_coin:i*a;c(x||i)}catch(a){console.error("Erreur lors de la conversion:",a.message)}finally{g(!1)}}},y=()=>{m(""),c(null),r(h)};return e.jsxs("div",{className:"p-4 mx-auto max-w-4xl bg-white shadow rounded",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Convertisseur de devises"}),o!==null&&e.jsxs("div",{className:"mt-4 p-2 mb-4 rounded-md bg-[#cd8b76] text-white font-semibold shadow-md flex justify-between",children:[e.jsx("span",{children:"Montant converti :"}),e.jsxs("span",{className:"font-bold text-xl",children:[o.toFixed(2)," ",s.id===0?"USD":h.name]})]}),j&&e.jsx("div",{className:"mt-4 text-center",children:"Chargement en cours..."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700",children:"Montant :"}),e.jsx("input",{type:"number",id:"amount",value:i,onChange:a=>m(a.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700",children:"Devise :"}),e.jsx("select",{id:"currency",value:(s==null?void 0:s.id)||"",onChange:a=>{const d=t.find(x=>x.id===parseInt(a.target.value));r(d),c(null)},className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:t.map(a=>e.jsxs("option",{value:a.id,children:[a.name," (",a.code,")"]},a.id))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(L,{onClick:w,className:"w-full",children:"Convertir"}),e.jsx(S,{onClick:y,className:"w-full",children:"Réinitialiser"})]})]})},z=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"";function W({header:t,children:n}){const{auth:{user:s}}=N().props,[r,i]=l.useState(!1),m=[{href:route("dashboard"),label:"Tableau de bord",active:route().current("dashboard")},{href:route("courses.index"),label:"Formations",active:route().current("courses.index")},{href:route("bots.index"),label:"Bots",active:route().current("bots.index")},{href:route("network.show",{userId:s.id}),label:"Réseau",active:route().current("network.show")},{href:route("transactions.index"),label:"Transactions",active:route().current("transactions.index")},...s.role==="admin"?[{href:route("users.index"),label:"Utilisateurs",active:route().current("users.index")}]:[]];return e.jsxs("div",{className:"min-h-screen bg-gray-100 pb-12",children:[e.jsxs("nav",{className:"border-b border-gray-100 bg-white",children:[e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex h-16 justify-between",children:[e.jsxs("div",{className:"flex",children:[e.jsx(p,{href:"/",className:"flex shrink-0 items-center mt-6 mb-6",children:e.jsx(C,{className:"block h-6 w-4 fill-current text-gray-800"})}),e.jsx("div",{className:"hidden space-x-8 sm:-my-px sm:ms-10 sm:flex",children:m.map((o,c)=>e.jsx(M,{href:o.href,active:o.active,children:o.label},c))})]}),e.jsx("div",{className:"hidden sm:ms-6 sm:flex sm:items-center",children:e.jsxs(u,{children:[e.jsx(u.Trigger,{children:e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-white px-3 py-2 text-sm font-medium text-gray-500 transition duration-150 hover:text-gray-700 focus:outline-none",children:[e.jsx("img",{src:"/img/user.png",alt:"User",className:"h-6 w-6 rounded-full"}),e.jsx("span",{className:"ms-2",children:z(s.username)}),e.jsx("svg",{className:"ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})}),e.jsxs(u.Content,{children:[e.jsx(u.Link,{href:route("profile.edit"),children:"Profil"}),e.jsx(u.Link,{href:route("logout"),method:"post",as:"button",children:"Se déconnecter"})]})]})}),e.jsx("div",{className:"-me-2 flex items-center sm:hidden",children:e.jsx("button",{onClick:()=>i(!r),className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-100 hover:text-gray-500 focus:outline-none",children:e.jsxs("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{className:r?"hidden":"block",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"}),e.jsx("path",{className:r?"block":"hidden",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})]})})})]})}),r&&e.jsxs("div",{className:"sm:hidden",children:[e.jsx("div",{className:"space-y-1 pb-3 pt-2",children:m.map((o,c)=>e.jsx(b,{href:o.href,active:o.active,children:o.label},c))}),e.jsxs("div",{className:"border-t border-gray-200 pb-1 pt-4 px-4",children:[e.jsx("div",{className:"text-base font-medium text-gray-800",children:s.name}),e.jsx("div",{className:"text-sm font-medium text-gray-500",children:s.email}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(b,{href:route("profile.edit"),children:"Profil"}),e.jsx(b,{href:route("logout"),method:"post",as:"button",children:"Se déconnecter"})]})]})]})]}),t&&e.jsx("header",{className:"bg-white shadow",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:t})}),e.jsxs("main",{children:[n,e.jsx(R,{}),e.jsx(D,{position:"top-center",reverseOrder:!1})]})]})}export{W as A,$ as a,z as c,h as m};
